{"flow":{"onboarding":{"$contentActions":[{"input":{"bypass":false,"$cardContent":{"document":{"id":"e8af630a-8270-436b-8e1b-6faa2e4b41f8","type":"text/plain","content":"Entrada do usuário"},"editable":false,"deletable":false,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"welcome","typeOfStateId":"state","$connId":"con_3","$id":"d8ae5cdd-530a-424a-aef1-ec9b10da16d9","conditions":[{"source":"input","comparison":"matches","values":[".*"]}],"$invalid":false}],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false},"$tags":[],"id":"onboarding","root":true,"$title":"Início","$position":{"top":"38.2979px","left":"644.128px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"fallback":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"4e97d191-6d67-4966-b2de-c8eb36adce30","type":"text/plain","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"error","conditions":[{"source":"input","comparison":"matches","values":[".*"]}],"$id":"bac74dd6-b712-4136-9e8d-8f95d9870d5a","$connId":"con_8","$invalid":false}],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"onboarding","$invalid":false},"$tags":[],"id":"fallback","$title":"Exceções","$position":{"top":"32px","left":"1117px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"welcome":{"$contentActions":[{"action":{"$id":"c39cd00d-dcd3-44a3-b7a5-b7514919b1d2","$typeOfContent":"","type":"SendMessage","settings":{"id":"00000000-0000-0000-0000-000000000000","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"00000000-0000-0000-0000-000000000000","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left","editing":false}},"$invalid":false},{"action":{"$id":"fdd61206-2305-43a7-9d6d-c0c393e82092","$typeOfContent":"","type":"SendMessage","settings":{"id":"00000000-0000-0000-0000-000000000001","type":"text/plain","content":"Olá, sou o assistente virtual CineBot.","metadata":{}},"$cardContent":{"document":{"id":"00000000-0000-0000-0000-000000000001","type":"text/plain","content":"Olá, sou o assistente virtual CineBot."},"editable":true,"deletable":true,"position":"left","editing":false}},"$invalid":false},{"action":{"$id":"937abdb2-342d-4751-9bb1-b8e39b8c8fef","$typeOfContent":"text","type":"SendMessage","settings":{"id":"d2ae9054-2001-42a7-8ea4-d7c02d8e6068","type":"text/plain","content":"Estou aqui para te ajudar no seu cadastro pro ingresso do Cine.","metadata":{}},"$cardContent":{"document":{"id":"d2ae9054-2001-42a7-8ea4-d7c02d8e6068","type":"text/plain","content":"Estou aqui para te ajudar no seu cadastro pro ingresso do Cine."},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":true,"$cardContent":{"document":{"id":"74e8f760-0759-4fcb-b8a1-56e1a6091969","type":"text/plain","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"2e893c4b-e313-4a14-a8e0-28c0388fa41c","$invalid":false,"typeOfStateId":"state"},"$tags":[],"id":"welcome","$title":"Boas vindas","$position":{"top":"307.188px","left":"644px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"error":{"$contentActions":[{"action":{"$id":"f5262644-590a-4b46-ae18-6d3f0c7081b0","$typeOfContent":"","type":"SendMessage","settings":{"id":"00000000-0000-0000-0000-000000000002","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"00000000-0000-0000-0000-000000000002","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left","editing":false}},"$invalid":false},{"action":{"$id":"0fac8beb-2a47-4bed-bb01-558a77a4abb9","$typeOfContent":"","type":"SendMessage","settings":{"id":"00000000-0000-0000-0000-000000000003","type":"text/plain","content":"Desculpe, não consegui entender!"},"$cardContent":{"document":{"id":"00000000-0000-0000-0000-000000000003","type":"text/plain","content":"Desculpe, não consegui entender!"},"editable":true,"deletable":true,"position":"left","editing":false}},"$invalid":false},{"input":{"bypass":true,"$cardContent":{"document":{"id":"386263c6-536f-43b0-8b5a-9a3ae6bf6b7a","type":"text/plain","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"onboarding","$invalid":false},"$tags":[],"id":"error","$title":"Erro padrão","$position":{"top":"308px","left":"1117px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"58361770-3750-4ea4-aac6-a9d134f8dbef":{"$contentActions":[{"action":{"$id":"e5fef16c-4a06-454a-acad-17441b2b6ad7","$typeOfContent":"chat-state","type":"SendMessage","settings":{"id":"83472b48-91f2-4ad9-b6ce-11c6c50376ba","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"83472b48-91f2-4ad9-b6ce-11c6c50376ba","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"62fc7d44-da53-4558-a658-e2112a40fbf3","$typeOfContent":"text","type":"SendMessage","settings":{"id":"22a6af64-6bb5-471b-92a6-64110408c84f","type":"text/plain","content":"{{endereco@msgEndereco}}","metadata":{}},"$cardContent":{"document":{"id":"22a6af64-6bb5-471b-92a6-64110408c84f","type":"text/plain","content":"{{endereco@msgEndereco}}"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"4a53f932-ca62-48fc-a148-1eced2f88e4e","$typeOfContent":"select-immediate","type":"SendMessage","settings":{"id":"ffdd7766-9795-4efc-a632-bc10b40e24f1","type":"application/vnd.lime.select+json","content":{"text":"O endereço está correto?","scope":"immediate","options":[{"text":"Sim","previewText":"Sim","value":null,"index":0,"type":null},{"text":"Não","previewText":"Não","value":null,"index":1,"type":null}]},"metadata":{}},"$cardContent":{"document":{"id":"ffdd7766-9795-4efc-a632-bc10b40e24f1","type":"application/vnd.lime.select+json","content":{"text":"O endereço está correto?","scope":"immediate","options":[{"text":"Sim","previewText":"Sim","value":null,"index":0,"type":null},{"text":"Não","previewText":"Não","value":null,"index":1,"type":null}]}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":false,"$cardContent":{"document":{"id":"4853f25e-2a10-4844-804e-b978438238e2","type":"text/plain","textContent":"Entrada do usuário","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"5fe28541-d772-4f09-ba79-ec297356f797","typeOfStateId":"state","$connId":"con_13","$id":"bdddf52a-4938-4215-89ca-06db89603b6b","conditions":[{"source":"input","comparison":"approximateTo","values":["Sim","si","Siiim"]}],"$invalid":false}],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":["Sim","Não"],"$defaultOutput":{"stateId":"e19ee913-ff1e-4581-8eed-2b11aa2e9142","$invalid":false,"typeOfStateId":"state"},"$tags":[],"id":"58361770-3750-4ea4-aac6-a9d134f8dbef","root":false,"$title":"Confirma Endereco API CEP response","$position":{"top":"3164px","left":"676.532px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"2e893c4b-e313-4a14-a8e0-28c0388fa41c":{"$contentActions":[{"action":{"$id":"94935388-cf1c-4374-afa4-5a7065659e5e","$typeOfContent":"chat-state","type":"SendMessage","settings":{"id":"a3bf2b52-fc6b-4924-bb4b-f9674804a879","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"a3bf2b52-fc6b-4924-bb4b-f9674804a879","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"2c96c24e-23e3-4d57-b0c1-5c6e9b40935f","$typeOfContent":"text","type":"SendMessage","settings":{"id":"c2a8aef1-b146-4994-9bbf-e383ad0ef9c9","type":"text/plain","content":"Qual é o seu nome?","metadata":{}},"$cardContent":{"document":{"id":"c2a8aef1-b146-4994-9bbf-e383ad0ef9c9","type":"text/plain","content":"Qual é o seu nome?"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":false,"$cardContent":{"document":{"id":"8b4a4f93-e4c8-4f24-8c88-0aceb835da55","type":"text/plain","textContent":"Entrada do usuário","content":"contactName"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false,"variable":"contactName","validation":{"rule":"text","error":"Por favor digite somente letras sem números"}},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[{"$id":"53f81afb-fc29-4619-b389-286f6e760c79","$typeOfContent":"","type":"MergeContact","$title":"Definir contato","$invalid":false,"settings":{"extras":{},"name":"{{contactName}}"},"conditions":[]}],"$inputSuggestions":[],"$defaultOutput":{"stateId":"7984a636-ce9c-44ac-8b0d-2c20b8699eb3","$invalid":false,"typeOfStateId":"state"},"$tags":[],"id":"2e893c4b-e313-4a14-a8e0-28c0388fa41c","root":false,"$title":"Pergunta Nome","$position":{"top":"497.818px","left":"650.091px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"7984a636-ce9c-44ac-8b0d-2c20b8699eb3":{"$contentActions":[{"action":{"$id":"94935388-cf1c-4374-afa4-5a7065659e5e","$typeOfContent":"chat-state","type":"SendMessage","settings":{"id":"a3bf2b52-fc6b-4924-bb4b-f9674804a879","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"a3bf2b52-fc6b-4924-bb4b-f9674804a879","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"2c96c24e-23e3-4d57-b0c1-5c6e9b40935f","$typeOfContent":"text","type":"SendMessage","settings":{"id":"c2a8aef1-b146-4994-9bbf-e383ad0ef9c9","type":"text/plain","content":"{{contact.name}}, qual é a sua data de nascimento?\nDigite neste formato de exemplo: 11/01/2000","metadata":{}},"$cardContent":{"document":{"id":"c2a8aef1-b146-4994-9bbf-e383ad0ef9c9","type":"text/plain","content":"{{contact.name}}, qual é a sua data de nascimento?\nDigite neste formato de exemplo: 11/01/2000"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":false,"$cardContent":{"document":{"id":"8b4a4f93-e4c8-4f24-8c88-0aceb835da55","type":"text/plain","textContent":"Entrada do usuário","content":"dataNasc"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false,"variable":"dataNasc","validation":{"rule":"regex","error":"Por favor, digite sua data de nascimento como neste exemplo: 11/01/2000","regex":"^([0-2][0-9]|(3)[0-1])(\\/)(((0)[0-9])|((1)[0-2]))(\\/)\\d{4}$"}},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"e178dbad-843e-4713-ae3d-c55d2c033258","$invalid":false,"typeOfStateId":"state"},"$tags":[],"id":"7984a636-ce9c-44ac-8b0d-2c20b8699eb3","root":false,"$title":"Pergunta Data Nascimento","$position":{"top":"693px","left":"640px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"e178dbad-843e-4713-ae3d-c55d2c033258":{"$contentActions":[{"action":{"$id":"94935388-cf1c-4374-afa4-5a7065659e5e","$typeOfContent":"chat-state","type":"SendMessage","settings":{"id":"a3bf2b52-fc6b-4924-bb4b-f9674804a879","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"a3bf2b52-fc6b-4924-bb4b-f9674804a879","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"2c96c24e-23e3-4d57-b0c1-5c6e9b40935f","$typeOfContent":"text","type":"SendMessage","settings":{"id":"c2a8aef1-b146-4994-9bbf-e383ad0ef9c9","type":"text/plain","content":"Qual é o seu e-mail?","metadata":{}},"$cardContent":{"document":{"id":"c2a8aef1-b146-4994-9bbf-e383ad0ef9c9","type":"text/plain","content":"Qual é o seu e-mail?"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":false,"$cardContent":{"document":{"id":"8b4a4f93-e4c8-4f24-8c88-0aceb835da55","type":"text/plain","textContent":"Entrada do usuário","content":"email"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false,"variable":"email","validation":{"rule":"regex","regex":"^([\\w\\.\\-]+)@([\\w\\-]+)((\\.(\\w){2,})+)$","error":"O e-mail não parece válido. Poderia digitar novamente?"}},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"$invalid":false,"typeOfStateId":"state","stateId":"5d15cbb1-579d-44b0-8279-337152431473"},"$tags":[],"id":"e178dbad-843e-4713-ae3d-c55d2c033258","root":false,"$title":"Pergunta e-mail","$position":{"top":"984.039px","left":"645px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"5d15cbb1-579d-44b0-8279-337152431473":{"$contentActions":[{"action":{"$id":"08941185-82a5-4f34-96b4-685d6b21a67b","$typeOfContent":"chat-state","type":"SendMessage","settings":{"id":"44584324-244f-43bf-a325-5195e33dde41","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"44584324-244f-43bf-a325-5195e33dde41","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"5d963043-5864-4a11-b175-a1fb0f6c43ed","$typeOfContent":"text","type":"SendMessage","settings":{"id":"ada3b568-9930-41c6-8a3a-a7d5a95fcf6c","type":"text/plain","content":"Qual é o seu telefone?","metadata":{}},"$cardContent":{"document":{"id":"ada3b568-9930-41c6-8a3a-a7d5a95fcf6c","type":"text/plain","content":"Qual é o seu telefone?"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":true,"$cardContent":{"document":{"id":"fcbadb1a-13f7-4322-9a1d-e978b830853c","type":"text/plain","textContent":"Entrada do usuário","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[{"$id":"6e9051e0-b99f-413d-ac5d-7138a5e10115","$typeOfContent":"","type":"MergeContact","$title":"Definir contato","$invalid":false,"settings":{"extras":{},"phoneNumber":"{{telefone}}"},"conditions":[]}],"$inputSuggestions":[],"$defaultOutput":{"stateId":"eae9bdfd-0f9c-4648-81dd-e454c4a23495","$invalid":false,"typeOfStateId":"state"},"$tags":[],"id":"5d15cbb1-579d-44b0-8279-337152431473","root":false,"$title":"Pergunta Telefone","$position":{"top":"1110px","left":"647px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"ed5ba3ee-8d6e-4819-b4f2-e73633198714":{"$contentActions":[{"action":{"$id":"f675111f-caa2-47a0-8257-20d296505704","$typeOfContent":"chat-state","type":"SendMessage","settings":{"id":"9ebdfefa-3e49-451c-a0bc-4f2a914985ea","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"9ebdfefa-3e49-451c-a0bc-4f2a914985ea","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"78b2e92c-0165-4cc9-b3f4-e251b05ba323","$typeOfContent":"text","type":"SendMessage","settings":{"id":"7646d52d-dd0e-4d68-b0c1-d06c812cc670","type":"text/plain","content":"Obrigada! Agora preciso de uma última informação","metadata":{}},"$cardContent":{"document":{"id":"7646d52d-dd0e-4d68-b0c1-d06c812cc670","type":"text/plain","content":"Obrigada! Agora preciso de uma última informação"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":true,"$cardContent":{"document":{"id":"e7244cf6-3fef-4e87-b7dd-42dd9372b3ac","type":"text/plain","textContent":"Entrada do usuário","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"e19ee913-ff1e-4581-8eed-2b11aa2e9142","$invalid":false,"typeOfStateId":"state"},"$tags":[],"id":"ed5ba3ee-8d6e-4819-b4f2-e73633198714","root":false,"$title":"Agradece Informacao","$position":{"top":"1676px","left":"661px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"e19ee913-ff1e-4581-8eed-2b11aa2e9142":{"$contentActions":[{"action":{"$id":"f675111f-caa2-47a0-8257-20d296505704","$typeOfContent":"chat-state","type":"SendMessage","settings":{"id":"9ebdfefa-3e49-451c-a0bc-4f2a914985ea","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"9ebdfefa-3e49-451c-a0bc-4f2a914985ea","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"78b2e92c-0165-4cc9-b3f4-e251b05ba323","$typeOfContent":"text","type":"SendMessage","settings":{"id":"7646d52d-dd0e-4d68-b0c1-d06c812cc670","type":"text/plain","content":"Qual é o CEP do seu endereço? Por favor, digite como neste exemplo: 01515000","metadata":{}},"$cardContent":{"document":{"id":"7646d52d-dd0e-4d68-b0c1-d06c812cc670","type":"text/plain","content":"Qual é o CEP do seu endereço? Por favor, digite como neste exemplo: 01515000"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":true,"$cardContent":{"document":{"id":"e7244cf6-3fef-4e87-b7dd-42dd9372b3ac","type":"text/plain","textContent":"Entrada do usuário","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"9c75b3fc-7d39-47a0-a789-2c52bc5fc03d","$invalid":false,"typeOfStateId":"state"},"$tags":[],"id":"e19ee913-ff1e-4581-8eed-2b11aa2e9142","root":false,"$title":"Perguntar CEP","$position":{"top":"1825px","left":"658px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"5fe28541-d772-4f09-ba79-ec297356f797":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"091109ba-5186-4c47-931d-652f6c044fd7","type":"text/plain","textContent":"Entrada do usuário","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[{"$id":"1b82f4d1-ce8b-4cd1-a189-dcb081767f35","$typeOfContent":"","type":"SetVariable","$title":"Rua","$invalid":false,"settings":{"variable":"rua","value":"{{endereco@logradouro}}"},"conditions":[]},{"$id":"f2d0aefe-a8ea-4591-94f9-d6f2ee4424fb","$typeOfContent":"","type":"SetVariable","$title":"cidade","$invalid":false,"settings":{"variable":"cidade","value":"{{endereco@cidade}}"},"conditions":[]},{"$id":"c9138473-585a-4d1c-9a80-baed3afe7c28","$typeOfContent":"","type":"SetVariable","$title":"bairro","$invalid":false,"settings":{"variable":"bairro","value":"{{endereco@bairro}}"},"conditions":[]},{"$id":"7faecec8-f265-4c26-b0b5-33fa567e06c4","$typeOfContent":"","type":"SetVariable","$title":"uf","$invalid":false,"settings":{"variable":"uf","value":"{{endereco@uf}}"},"conditions":[]}],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"f08d5998-e57b-4001-8e7a-ff39ab3a6bea","$invalid":false,"typeOfStateId":"state"},"$tags":[],"id":"5fe28541-d772-4f09-ba79-ec297356f797","root":false,"$title":"Salva Variaveis de Endereco","$position":{"top":"3675.38px","left":"675.404px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"48ee3fef-bcd7-40ef-a63e-da61485a63ca":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"6a9d6e39-ce87-41ab-ba2f-95e00a1b7dcd","type":"text/plain","textContent":"Entrada do usuário","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[{"$id":"7cc8bbbd-7af1-4fc1-b68c-ceca1f8d563b","$typeOfContent":"","type":"ExecuteScript","$title":"Executar script","$invalid":false,"settings":{"function":"run","source":"/**\n            * All input variables needs to be passed as function param;\n            * Objects received as param needs to be parsed. Ex.: JSON.parse(inputVariable1);\n            * Objects returned needs to be stringfied. Ex.: JSON.stringify(inputVariable1);\n            **/\nfunction run(apiviacepres) {\n    const data = JSON.parse(apiviacepres)\n    const endereco = {\n        cep: data.cep,\n        logradouro: data.logradouro,\n        bairro: data.bairro,\n        cidade: data.localidade,\n        uf: data.uf,\n        msgEndereco: `${data.logradouro}, Bairro ${data.bairro}, ${data.localidade}-${data.uf}`\n    }\n    return JSON.stringify(endereco)\n}","inputVariables":["apiviacepbody"],"outputVariable":"endereco","LocalTimeZoneEnabled":false},"conditions":[]}],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"58361770-3750-4ea4-aac6-a9d134f8dbef","$invalid":false,"typeOfStateId":"state"},"$tags":[],"id":"48ee3fef-bcd7-40ef-a63e-da61485a63ca","root":false,"$title":"Funcao trata retorno API viaCEP","$position":{"top":"2828px","left":"679px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"ef0cb2d3-69fb-4263-b63b-55ddb876a67f":{"$contentActions":[{"action":{"$id":"4e29469d-c37c-4d8b-9a6d-cda76ce5f677","$typeOfContent":"chat-state","type":"SendMessage","settings":{"id":"7b854329-f315-4aa7-848f-c21da8188b38","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"7b854329-f315-4aa7-848f-c21da8188b38","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"c414bcdf-c3d4-4ddd-add3-8a5c7bb95c3f","$typeOfContent":"select-immediate","type":"SendMessage","settings":{"id":"38ca72eb-3b4b-4de3-9905-bbafa6091a81","type":"application/vnd.lime.select+json","content":{"text":"Seu endereço tem complemento?","scope":"immediate","options":[{"text":"Sim","previewText":"Sim","value":"1","index":0,"type":"plan/text"},{"text":"Não","previewText":"Não","value":"2","index":1,"type":"plan/text"}]},"metadata":{}},"$cardContent":{"document":{"id":"38ca72eb-3b4b-4de3-9905-bbafa6091a81","type":"application/vnd.lime.select+json","content":{"text":"Seu endereço tem complemento?","scope":"immediate","options":[{"text":"Sim","previewText":"Sim","value":"1","index":0,"type":"plan/text"},{"text":"Não","previewText":"Não","value":"2","index":1,"type":"plan/text"}]}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":false,"$cardContent":{"document":{"id":"e0be472a-07e5-4dd4-b210-22ec24052633","type":"text/plain","textContent":"Entrada do usuário","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"7c037b31-07a6-44b2-bf80-b2e78798880a","typeOfStateId":"state","$connId":"con_18","$id":"49385e4d-fec1-4352-a555-c4b5036f6bf7","conditions":[{"source":"input","comparison":"equals","values":["Sim","1"]}],"$invalid":false}],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":["1","2"],"$defaultOutput":{"stateId":"bbdcbb73-e3a2-424e-af15-f0fa24b3a8ab","$invalid":false,"typeOfStateId":"state"},"$tags":[],"id":"ef0cb2d3-69fb-4263-b63b-55ddb876a67f","root":false,"$title":"Pergunta Complemento","$position":{"top":"3985.77px","left":"662.064px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"bbdcbb73-e3a2-424e-af15-f0fa24b3a8ab":{"$contentActions":[{"action":{"$id":"6a26842a-881a-4575-9976-169ddf6dbe39","$typeOfContent":"chat-state","type":"SendMessage","settings":{"id":"5bd943c4-c78d-4c56-854e-133dd5cabed9","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"5bd943c4-c78d-4c56-854e-133dd5cabed9","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"852c2d31-5214-489d-89ae-be23ae55420f","$typeOfContent":"text","type":"SendMessage","settings":{"id":"221b3f96-e0fd-463f-aaba-6804a657b1b7","type":"text/plain","content":"Qual nome gostaria de colocar neste endereço? Exemplo: casa","metadata":{}},"$cardContent":{"document":{"id":"221b3f96-e0fd-463f-aaba-6804a657b1b7","type":"text/plain","content":"Qual nome gostaria de colocar neste endereço? Exemplo: casa"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":false,"$cardContent":{"document":{"id":"b052cab7-ae98-4dee-b46b-1d362240c2eb","type":"text/plain","textContent":"Entrada do usuário","content":"nomeDoEndereco"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false,"variable":"nomeDoEndereco"},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"a94979c7-69d6-471f-b7af-afd87e2ea5a2","$invalid":false,"typeOfStateId":"state"},"$tags":[],"id":"bbdcbb73-e3a2-424e-af15-f0fa24b3a8ab","root":false,"$title":"Nomeia Endereco","$position":{"top":"4208.13px","left":"665.064px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"f0bc11ac-752d-4d31-805d-5db74f110afd":{"$contentActions":[{"action":{"$id":"05e9d2b1-d7fb-463f-aacc-e0edb0cf7021","$typeOfContent":"chat-state","type":"SendMessage","settings":{"id":"216dd2a1-a8ac-4df4-980f-4c98ba5cec62","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"216dd2a1-a8ac-4df4-980f-4c98ba5cec62","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"26804780-bc8a-49aa-82d2-1943e116aafe","$typeOfContent":"text","type":"SendMessage","settings":{"id":"919c98d9-fb9c-47e5-ba14-d53040df6463","type":"text/plain","content":"Obrigada. O seu cadastro foi realizado!","metadata":{}},"$cardContent":{"document":{"id":"919c98d9-fb9c-47e5-ba14-d53040df6463","type":"text/plain","content":"Obrigada. O seu cadastro foi realizado!"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":true,"$cardContent":{"document":{"id":"e3209b94-a62f-49b7-9844-b0cfffb40468","type":"text/plain","textContent":"Entrada do usuário","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"onboarding","$invalid":false,"typeOfStateId":"state"},"$tags":[],"id":"f0bc11ac-752d-4d31-805d-5db74f110afd","root":false,"$title":"Encerra","$position":{"top":"5081px","left":"690px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"a94979c7-69d6-471f-b7af-afd87e2ea5a2":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"a7dc96c5-b83f-42c7-94f7-2e5a5b30bbf7","type":"text/plain","textContent":"Entrada do usuário","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[{"$id":"22f16b3f-2acd-4d39-b5e0-45ba1059446e","$typeOfContent":"","type":"ExecuteScript","$title":"Executar script","$invalid":false,"settings":{"function":"run","source":"function run(rua, residenciaNum, complemento, bairro, cidade, uf, email, telefoneFormatado, dataNasc) {\n    const menu = {\n        text: \"Gostaria de confirmar os seus dados ou editar?\\n Escolha uma das opções abaixo\",\n        options: [{\n            order: 1,\n            text: `Endereco: ${rua} ${residenciaNum},${complemento ? complemento : ''} ${bairro}, ${cidade}/${uf}`\n        },\n        {\n            order: 2,\n            text: `E-mail: ${email}`\n        },\n        {\n            order: 3,\n            text: `Telefone: ${JSON.parse(telefoneFormatado)}`\n        },\n        {\n            order: 4,\n            text: `Data de nascimento: ${dataNasc}`\n        },\n        {\n            order: 5,\n            text: \"Confirmar dados\"\n        }\n        ]\n    }\n    return JSON.stringify(menu);\n}","inputVariables":["rua","residenciaNum","complemento","bairro","cidade","uf","email","telefoneFormatado","dataNasc"],"outputVariable":"menuConfirmacao","LocalTimeZoneEnabled":false},"conditions":[]}],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"09db9b09-f2a4-4050-8ff6-f7bb27d111ea","$invalid":false,"typeOfStateId":"state"},"$tags":[],"id":"a94979c7-69d6-471f-b7af-afd87e2ea5a2","root":false,"$title":"Funcao Menu Confirmacao","$position":{"top":"4492.79px","left":"673.319px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"67be2f13-e7b4-4ae2-a01b-199b10df7f14":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"4b37ad3c-2a28-41e8-ab28-c3377ec30465","type":"text/plain","textContent":"Entrada do usuário","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false,"$$hashKey":"object:23218"}],"$conditionOutputs":[],"$enteringCustomActions":[{"$id":"da358f76-5fc0-4473-9bf0-cf7c4478a3cb","$typeOfContent":"","type":"ProcessHttp","$title":"Requisição HTTP","$invalid":false,"settings":{"headers":{},"method":"GET","uri":"https://viacep.com.br/ws/{{cep}}/json/","responseStatusVariable":"APIViaCepCode","responseBodyVariable":"APIViaCepBody"},"conditions":[]}],"$leavingCustomActions":[{"$id":"78b25b8b-f972-4516-ba2e-ffd931d4dd27","$typeOfContent":"","type":"SetVariable","$title":"Definir variável","$invalid":false,"settings":{"variable":"erroAPIViaCEP","value":"true","expiration":3},"conditions":[{"source":"context","variable":"APIViaCepBody@erro","comparison":"contains","values":["true","erro"],"$$hashKey":"object:23396"}]}],"$inputSuggestions":[],"$defaultOutput":{"stateId":"65391c5b-07d3-429a-ae7e-52cbb561101d","$invalid":false,"typeOfStateId":"state"},"$tags":[],"id":"67be2f13-e7b4-4ae2-a01b-199b10df7f14","root":false,"$title":"Requisicao API viaCEP","$position":{"top":"2267px","left":"674px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"65391c5b-07d3-429a-ae7e-52cbb561101d":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"a4d0fc77-825a-4231-8c1a-a26fda10777a","type":"text/plain","textContent":"Entrada do usuário","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"3138575d-a737-48bb-9166-b3bbdef599a0","typeOfStateId":"state","$connId":"con_23","$id":"50f1a7cf-bc43-4422-ac74-c45181a8dd4b","conditions":[{"source":"context","comparison":"exists","values":[],"variable":"context.erroAPIViaCEP"}],"$invalid":false},{"stateId":"cf1e6b54-79e2-4024-b6c4-71ae2fb9847b","typeOfStateId":"state","$connId":"con_28","$id":"ce19e2cb-5086-4fca-b881-bd0fd5a8ff7f","conditions":[{"source":"context","comparison":"equals","values":["1"],"variable":"validacepGenerico"}],"$invalid":false},{"stateId":"48ee3fef-bcd7-40ef-a63e-da61485a63ca","typeOfStateId":"state","$connId":"con_33","$id":"635ea9a8-c430-4247-bca1-c7c8c0403bd5","conditions":[{"source":"context","comparison":"equals","values":["200"],"variable":"APIViaCepCode"}],"$invalid":false}],"$enteringCustomActions":[{"$id":"1d5dfc21-e476-4311-a1e9-c552492eed60","$typeOfContent":"","type":"ExecuteScript","$title":"Executar script","$invalid":false,"settings":{"function":"run","source":"/**\n            * All input variables needs to be passed as function param;\n            * Objects received as param needs to be parsed. Ex.: JSON.parse(inputVariable1);\n            * Objects returned needs to be stringfied. Ex.: JSON.stringify(inputVariable1);\n            **/\nfunction run(apiViaCepBody) {\n    const data = JSON.parse(apiViaCepBody)\n    if (!data.logradouro && !data.bairro) {\n        return 1\n    } return 0\n}","inputVariables":["APIViaCepBody"],"outputVariable":"validacepGenerico","LocalTimeZoneEnabled":false},"conditions":[]}],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"3138575d-a737-48bb-9166-b3bbdef599a0","$invalid":false,"typeOfStateId":"state"},"$tags":[],"id":"65391c5b-07d3-429a-ae7e-52cbb561101d","root":false,"$title":"Direcionar Status API viaCEP","$position":{"top":"2511.74px","left":"679px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"3b75ce78-0df6-46f8-b65e-5b895b807b8b":{"$contentActions":[{"action":{"$id":"38299c4e-b853-4f91-b5eb-47c5dd7baf2f","$typeOfContent":"chat-state","type":"SendMessage","settings":{"id":"9f16cb3c-82b1-4a69-b2a8-984819a66896","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"9f16cb3c-82b1-4a69-b2a8-984819a66896","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"1e25cabe-715f-433b-b2dc-8e034dd4633a","$typeOfContent":"text","type":"SendMessage","settings":{"id":"c26bda33-6166-4b8b-b790-295d29202946","type":"text/plain","content":"Este CEP parece inválido. Pode digitar novamente?","metadata":{}},"$cardContent":{"document":{"id":"c26bda33-6166-4b8b-b790-295d29202946","type":"text/plain","content":"Este CEP parece inválido. Pode digitar novamente?"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":true,"$cardContent":{"document":{"id":"bdbd721a-78bd-43c8-bd2a-504a8e78616c","type":"text/plain","textContent":"Entrada do usuário","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"9c75b3fc-7d39-47a0-a789-2c52bc5fc03d","$invalid":false,"typeOfStateId":"state"},"$tags":[],"id":"3b75ce78-0df6-46f8-b65e-5b895b807b8b","root":false,"$title":"CEP invalido","$position":{"top":"1702px","left":"1219px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"eae9bdfd-0f9c-4648-81dd-e454c4a23495":{"$contentActions":[{"input":{"bypass":false,"$cardContent":{"document":{"id":"fcbadb1a-13f7-4322-9a1d-e978b830853c","type":"text/plain","textContent":"Entrada do usuário","content":"telefone"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false,"variable":"telefone","validation":{"rule":"number","error":"Por favor digite somente números"}},"$invalid":false}],"$conditionOutputs":[{"stateId":"87643851-b156-4880-bc4a-2cf49336c8c2","typeOfStateId":"state","$connId":"con_38","$id":"ba5caf0e-6a68-42fd-b278-f8e88738de1b","conditions":[{"source":"input","comparison":"matches","values":["^[1-9]{2}-?\\s?[2-9][0-9]{7,8}$"]}],"$invalid":false}],"$enteringCustomActions":[],"$leavingCustomActions":[{"$id":"6e9051e0-b99f-413d-ac5d-7138a5e10115","$typeOfContent":"","type":"MergeContact","$title":"Definir contato","$invalid":false,"settings":{"extras":{},"phoneNumber":"{{telefone}}"},"conditions":[]}],"$inputSuggestions":[],"$defaultOutput":{"stateId":"9bf651eb-6ffb-4c4c-abf3-a59d1d63d6ed","$invalid":false,"typeOfStateId":"state"},"$tags":[],"id":"eae9bdfd-0f9c-4648-81dd-e454c4a23495","root":false,"$title":"Input telefone","$position":{"top":"1270px","left":"662px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"9bf651eb-6ffb-4c4c-abf3-a59d1d63d6ed":{"$contentActions":[{"action":{"$id":"5a3c6ddd-3184-406b-8f0d-ac9a68cc0761","$typeOfContent":"chat-state","type":"SendMessage","settings":{"id":"750b2ac0-7a68-46fd-a1ba-89941c963fac","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"750b2ac0-7a68-46fd-a1ba-89941c963fac","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"cab90bda-f865-4773-b82a-3c94d6b83155","$typeOfContent":"text","type":"SendMessage","settings":{"id":"9844ab5f-8922-4aba-9fc9-0d858b085f81","type":"text/plain","content":"Não parece um telefone válido.\nPoderia digitar novamente?","metadata":{}},"$cardContent":{"document":{"id":"9844ab5f-8922-4aba-9fc9-0d858b085f81","type":"text/plain","content":"Não parece um telefone válido.\nPoderia digitar novamente?"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":true,"$cardContent":{"document":{"id":"e13631c4-c647-4588-89c8-e3c3e4e8b257","type":"text/plain","textContent":"Entrada do usuário","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"eae9bdfd-0f9c-4648-81dd-e454c4a23495","$invalid":false,"typeOfStateId":"state"},"$tags":[],"id":"9bf651eb-6ffb-4c4c-abf3-a59d1d63d6ed","root":false,"$title":"Telefone inválido","$position":{"top":"1325px","left":"1179px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"9c75b3fc-7d39-47a0-a789-2c52bc5fc03d":{"$contentActions":[{"input":{"bypass":false,"$cardContent":{"document":{"id":"e7244cf6-3fef-4e87-b7dd-42dd9372b3ac","type":"text/plain","textContent":"Entrada do usuário","content":"cep"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false,"variable":"cep","validation":{"rule":"number","error":"Por favor digite somente números."}},"$invalid":false}],"$conditionOutputs":[{"stateId":"67be2f13-e7b4-4ae2-a01b-199b10df7f14","typeOfStateId":"state","$connId":"con_43","$id":"8ae85686-88ed-4c44-8a04-f55c23095ea4","conditions":[{"source":"input","comparison":"matches","values":["^[0-9]{8}$","/^[0-9]{8}$/"]}],"$invalid":false}],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"3b75ce78-0df6-46f8-b65e-5b895b807b8b","$invalid":false,"typeOfStateId":"state"},"$tags":[],"id":"9c75b3fc-7d39-47a0-a789-2c52bc5fc03d","root":false,"$title":"Input CEP","$position":{"top":"2030px","left":"671px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"87643851-b156-4880-bc4a-2cf49336c8c2":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"d8673cb7-0b50-4659-abd3-9d0dc4c25780","type":"text/plain","textContent":"Entrada do usuário","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[{"$id":"fe00a4a2-4ef1-41a5-aebc-567865cf98b9","$typeOfContent":"","type":"ExecuteScript","$title":"Executar script","$invalid":false,"settings":{"function":"run","source":"/**\n            * All input variables needs to be passed as function param;\n            * Objects received as param needs to be parsed. Ex.: JSON.parse(inputVariable1);\n            * Objects returned needs to be stringfied. Ex.: JSON.stringify(inputVariable1);\n            **/\nfunction run(telefone) {\n    const phoneLen = telefone.length\n    if (phoneLen === 10) {\n        let telefoneFormatado = telefone.replace(/(\\d{2})(\\d{4})(\\d{4})/, \"($1) $2-$3\");\n        return JSON.stringify(telefoneFormatado)\n    }\n    let telefoneFormatado = telefone.replace(/(\\d{2})(\\d{5})(\\d{4})/, \"($1) $2-$3\");\n    return JSON.stringify(telefoneFormatado)\n}","inputVariables":["telefone"],"outputVariable":"telefoneFormatado","LocalTimeZoneEnabled":false},"conditions":[]}],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"ed5ba3ee-8d6e-4819-b4f2-e73633198714","$invalid":false,"typeOfStateId":"state"},"$tags":[],"id":"87643851-b156-4880-bc4a-2cf49336c8c2","root":false,"$title":"Funcao Formata Telefone","$position":{"top":"1429px","left":"663px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"09db9b09-f2a4-4050-8ff6-f7bb27d111ea":{"$contentActions":[{"action":{"$id":"e27cfdc4-c73d-4ca9-ad93-3921d89f025c","$typeOfContent":"raw-content","type":"SendRawMessage","settings":{"metadata":{},"type":"application/vnd.lime.select+json","rawContent":"{{menuConfirmacao}}"}},"$invalid":false},{"input":{"bypass":false,"$cardContent":{"document":{"id":"a7dc96c5-b83f-42c7-94f7-2e5a5b30bbf7","type":"text/plain","textContent":"Entrada do usuário","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"e19ee913-ff1e-4581-8eed-2b11aa2e9142","typeOfStateId":"state","$connId":"con_48","$id":"9735f739-f90d-489e-961e-2c59d6ac1395","conditions":[{"source":"input","comparison":"contains","values":["1","\"1\""]}],"$invalid":false},{"stateId":"e178dbad-843e-4713-ae3d-c55d2c033258","typeOfStateId":"state","$connId":"con_53","$id":"e32d895e-170b-4259-9356-7146a1227b35","conditions":[{"source":"input","comparison":"contains","values":["2","\"2\""]}],"$invalid":false},{"stateId":"5d15cbb1-579d-44b0-8279-337152431473","typeOfStateId":"state","$connId":"con_58","$id":"1c28a046-bea1-4ef9-bb7e-33d4b0511853","conditions":[{"source":"input","comparison":"contains","values":["3","\"3\""]}],"$invalid":false},{"stateId":"7984a636-ce9c-44ac-8b0d-2c20b8699eb3","typeOfStateId":"state","$connId":"con_63","$id":"997ad093-2549-4bd6-a18b-be5a60ee15e5","conditions":[{"source":"input","comparison":"contains","values":["4","\"4\""]}],"$invalid":false}],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"f0bc11ac-752d-4d31-805d-5db74f110afd","$invalid":false,"typeOfStateId":"state"},"$tags":[],"id":"09db9b09-f2a4-4050-8ff6-f7bb27d111ea","root":false,"$title":"Menu confirmacao","$position":{"top":"4743px","left":"682px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"f08d5998-e57b-4001-8e7a-ff39ab3a6bea":{"$contentActions":[{"action":{"$id":"5056bcb7-0e1f-4140-9d11-f19521306c43","$typeOfContent":"chat-state","type":"SendMessage","settings":{"id":"4ad3c90b-2953-4cc6-9032-fd1b6e2946fd","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"4ad3c90b-2953-4cc6-9032-fd1b6e2946fd","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"f32f13d1-092c-4cc1-a345-bc6641331cb1","$typeOfContent":"text","type":"SendMessage","settings":{"id":"0c38fe7b-267f-442f-b72b-52409bd2a377","type":"text/plain","content":"Qual é o número do seu endereço?","metadata":{}},"$cardContent":{"document":{"id":"0c38fe7b-267f-442f-b72b-52409bd2a377","type":"text/plain","content":"Qual é o número do seu endereço?"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":false,"$cardContent":{"document":{"id":"e0be472a-07e5-4dd4-b210-22ec24052633","type":"text/plain","textContent":"Entrada do usuário","content":"residenciaNum"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false,"variable":"residenciaNum","validation":{"rule":"number","error":"Por favor digite somente números"}},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"ef0cb2d3-69fb-4263-b63b-55ddb876a67f","$invalid":false,"typeOfStateId":"state"},"$tags":[],"id":"f08d5998-e57b-4001-8e7a-ff39ab3a6bea","root":false,"$title":"Pergunta Numero Residencia","$position":{"top":"3813px","left":"666px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"3138575d-a737-48bb-9166-b3bbdef599a0":{"$contentActions":[{"action":{"$id":"81b347b0-e149-4f32-849e-2f93ffcfe793","$typeOfContent":"chat-state","type":"SendMessage","settings":{"id":"f081fa9a-2b25-468f-94b4-c723ad0eb592","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"f081fa9a-2b25-468f-94b4-c723ad0eb592","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"f897edfd-5ed3-47ed-be85-8b1d91c3e27f","$typeOfContent":"text","type":"SendMessage","settings":{"id":"f02d76be-9f2c-41ac-9ef2-311fcd6b2f84","type":"text/plain","content":"Não consegui localizar esse CEP. Poderia digitar novamente?","metadata":{}},"$cardContent":{"document":{"id":"f02d76be-9f2c-41ac-9ef2-311fcd6b2f84","type":"text/plain","content":"Não consegui localizar esse CEP. Poderia digitar novamente?"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":true,"$cardContent":{"document":{"id":"6fff84f1-0a00-4431-a21a-468c95dc8445","type":"text/plain","textContent":"Entrada do usuário","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"9c75b3fc-7d39-47a0-a789-2c52bc5fc03d","$invalid":false,"typeOfStateId":"state"},"$tags":[],"id":"3138575d-a737-48bb-9166-b3bbdef599a0","root":false,"$title":"Erro API","$position":{"top":"2525px","left":"375px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"7c037b31-07a6-44b2-bf80-b2e78798880a":{"$contentActions":[{"action":{"$id":"ab9e6339-5ce9-4f70-a170-b56a332e4b36","$typeOfContent":"chat-state","type":"SendMessage","settings":{"id":"3b2f0cc0-b702-4380-b399-4c862f7049a4","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"3b2f0cc0-b702-4380-b399-4c862f7049a4","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"82047a8e-f83c-4791-b1cb-c59e8b31bb87","$typeOfContent":"text","type":"SendMessage","settings":{"id":"78536d9b-bbb8-44dc-a39e-d12abc8835ef","type":"text/plain","content":"Digite o complemento do seu endereço.","metadata":{}},"$cardContent":{"document":{"id":"78536d9b-bbb8-44dc-a39e-d12abc8835ef","type":"text/plain","content":"Digite o complemento do seu endereço."},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":false,"$cardContent":{"document":{"id":"d66b2454-d7fe-495a-9eca-9c3e9537ce3e","type":"text/plain","textContent":"Entrada do usuário","content":"complemento"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false,"variable":"complemento"},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"bbdcbb73-e3a2-424e-af15-f0fa24b3a8ab","$invalid":false,"typeOfStateId":"state"},"$tags":[],"id":"7c037b31-07a6-44b2-bf80-b2e78798880a","root":false,"$title":"Input Complemento","$position":{"top":"4182px","left":"262px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"cf1e6b54-79e2-4024-b6c4-71ae2fb9847b":{"$contentActions":[{"action":{"$id":"fbfa060f-77bf-4433-b66a-e73f83dce352","$typeOfContent":"chat-state","type":"SendMessage","settings":{"id":"7da37eb3-777d-49a5-8704-9f428bdec7db","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"7da37eb3-777d-49a5-8704-9f428bdec7db","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"d85c8d4f-925a-400e-a105-53afbf877451","$typeOfContent":"text","type":"SendMessage","settings":{"id":"b968ccc4-3070-4975-8c78-c8c268d83713","type":"text/plain","content":"Qual é o nome da rua? Ex: Rua da Consolação","metadata":{}},"$cardContent":{"document":{"id":"b968ccc4-3070-4975-8c78-c8c268d83713","type":"text/plain","content":"Qual é o nome da rua? Ex: Rua da Consolação"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":false,"$cardContent":{"document":{"id":"a523893c-b23c-4641-805c-dc79b9d8209d","type":"text/plain","textContent":"Entrada do usuário","content":"rua"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false,"variable":"rua"},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"b8bf7f25-15a5-4c6b-940d-85d2e78525e6","$invalid":false,"typeOfStateId":"state"},"$tags":[],"id":"cf1e6b54-79e2-4024-b6c4-71ae2fb9847b","root":false,"$title":"Pergunta Nome Rua","$position":{"top":"2512px","left":"1148px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"b8bf7f25-15a5-4c6b-940d-85d2e78525e6":{"$contentActions":[{"action":{"$id":"ae5b72d2-a64e-4327-bc08-30d50a9aa437","$typeOfContent":"chat-state","type":"SendMessage","settings":{"id":"43d6e3fb-b411-4785-a249-c086ff5fc4f4","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"43d6e3fb-b411-4785-a249-c086ff5fc4f4","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"2985814e-b497-4885-8175-283c4ee6e368","$typeOfContent":"text","type":"SendMessage","settings":{"id":"58cc625e-f56f-47c8-9ede-9c9a17058e7f","type":"text/plain","content":"Qual é o nome do bairro?","metadata":{}},"$cardContent":{"document":{"id":"58cc625e-f56f-47c8-9ede-9c9a17058e7f","type":"text/plain","content":"Qual é o nome do bairro?"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":false,"$cardContent":{"document":{"id":"0ba3bfb1-563c-438f-a2ef-9b6e42478c98","type":"text/plain","textContent":"Entrada do usuário","content":"bairro"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false,"variable":"bairro"},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"f08d5998-e57b-4001-8e7a-ff39ab3a6bea","$invalid":false,"typeOfStateId":"state"},"$tags":[],"id":"b8bf7f25-15a5-4c6b-940d-85d2e78525e6","root":false,"$title":"Pergunta Bairro","$position":{"top":"2807px","left":"1148px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false}},"configuration":{"builder:minimumIntentScore":"0.5","builder:stateTrack":"false","builder:#localTimeZone":"E. South America Standard Time"},"globalActions":{"$contentActions":[],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false},"$tags":[],"id":"global-actions","$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false}}